{ "name": "rendering",
  "memberOf": "wix-window",
  "mixes": [],
  "labels":
    [ "new",
      "removed" ],
  "location":
    { "filename": "window.es6",
      "lineno": 234 },
  "docs":
    { "summary": "The Rendering API is used to control when code is run as a page is being loaded.",
      "description":
        [ "When possible, the rendering process that runs when your page loads is",
          " split in two in order to improve performance. The first cycle in the process",
          " happens server-side and the second cycle happens client-side. When not",
          " possible, all rendering happens client-side.",
          "",
          " Use the Rendering API to track when and where your code is running to",
          " selectively run parts of your code in certain conditions.",
          "",
          " To use the Rendering API, import `wixWindow` from the `wix-window` module:",
          "",
          "   ``` javascript",
          "   import wixWindow from 'wix-window';",
          "   ```",
          "",
          " To learn more about the rendering process, see [About the Page Rendering Process](https://support.wix.com/en/article/about-the-page-rendering-process)." ],
      "links": [],
      "examples": [] },
  "srcDocs":
    { "summary": "The Rendering API is used to control when code is run as a page is being loaded.",
      "description":
        [ "When possible, the rendering process that runs when your page loads is",
          " split in two in order to improve performance. The first cycle in the process",
          " happens server-side and the second cycle happens client-side. When not",
          " possible, all rendering happens client-side.",
          "",
          " Use the Rendering API to track when and where your code is running to",
          " selectively run parts of your code in certain conditions.",
          "",
          " To use the Rendering API, import `wixWindow` from the `wix-window` module:",
          "",
          "   ``` javascript",
          "   import wixWindow from 'wix-window';",
          "   ```",
          "",
          " To learn more about the rendering process, see [About the Page Rendering Process](https://support.wix.com/en/article/about-the-page-rendering-process)." ],
      "links": [],
      "examples": [] },
  "properties":
    [ { "name": "env",
        "labels": [],
        "get": true,
        "set": false,
        "type": "string",
        "locations":
          [ { "filename": "window.es6",
              "lineno": 190 } ],
        "docs":
          { "summary": "Gets the current environment the rendering process is running in.",
            "description":
              [ "When possible, the rendering process is split in two in order to",
                " improve performance. The first cycle in the process happens server-side",
                " and the second cycle happens client-side. When not possible, all rendering",
                " happens client-side.",
                "",
                " The `env` property returns `\"backend\"` when rendering on the server",
                " and `\"browser\"` when rendering on the client.",
                "",
                " Use the `env` property in your page's [`onReady()`]($w.html#onReady)",
                " event handler to control where your code runs during the rendering",
                " process." ],
            "links": [],
            "examples":
              [ { "title": "Get the current cycle in the rendering process",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "",
                      "// ...",
                      "",
                      "let currentEnv = wixWindow.rendering.env; // \"browser\"" ] },
                { "title": "Use rendering environment to selectively run code per environment",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "import {local} from 'wix-storage';",
                      "",
                      "let queryPromise;",
                      "",
                      "if(wixWindow.rendering.renderCycle === 1) {",
                      "  queryPromise = wixData.query(\"myCollection\").find();",
                      "}",
                      "",
                      "$w.onReady(function () {",
                      "  if(wixWindow.rendering.env === \"browser\") {",
                      "    $w(\"#myText\").text = local.getItem(\"someStorageKey\");",
                      "    $w(\"#button1\").onClick( () => {",
                      "  \t\tconsole.log(\"Button clicked\")",
                      "  \t} );",
                      "  }",
                      "} );" ] } ] },
        "srcDocs":
          { "summary": "Gets the current environment the rendering process is running in.",
            "description":
              [ "When possible, the rendering process is split in two in order to",
                " improve performance. The first cycle in the process happens server-side",
                " and the second cycle happens client-side. When not possible, all rendering",
                " happens client-side.",
                "",
                " The `env` property returns `\"backend\"` when rendering on the server",
                " and `\"browser\"` when rendering on the client.",
                "",
                " Use the `env` property in your page's [`onReady()`]($w.html#onReady)",
                " event handler to control where your code runs during the rendering",
                " process." ],
            "links": [],
            "examples":
              [ { "title": "Get the current cycle in the rendering process",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "",
                      "// ...",
                      "",
                      "let currentEnv = wixWindow.rendering.env; // \"browser\"" ] },
                { "title": "Use rendering environment to selectively run code per environment",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "import {local} from 'wix-storage';",
                      "",
                      "let queryPromise;",
                      "",
                      "if(wixWindow.rendering.renderCycle === 1) {",
                      "  queryPromise = wixData.query(\"myCollection\").find();",
                      "}",
                      "",
                      "$w.onReady(function () {",
                      "  if(wixWindow.rendering.env === \"browser\") {",
                      "    $w(\"#myText\").text = local.getItem(\"someStorageKey\");",
                      "    $w(\"#button1\").onClick( () => {",
                      "  \t\tconsole.log(\"Button clicked\")",
                      "  \t} );",
                      "  }",
                      "} );" ] } ] } },
      { "name": "renderCycle",
        "labels": [],
        "get": true,
        "set": false,
        "type": "number",
        "locations":
          [ { "filename": "window.es6",
              "lineno": 155 } ],
        "docs":
          { "summary": "Gets the current cycle in the rendering process.",
            "description":
              [ "When possible, the rendering process is split in two in order to",
                " improve performance. The first cycle in the process happens server-side",
                " and the second cycle happens client-side. When not possible, all rendering",
                " happens client-side.",
                "",
                " When the rendering is split, `renderCycle` returns `1` on the server",
                " and `2` on the client.",
                "",
                " When all the rendering happens client-side, `renderCycle` returns `1`",
                " while the rendering process is still running.",
                "",
                " In either case, after the client-side rendering has finished,",
                " `renderCycle` returns `NaN`.",
                "",
                " Use the `renderCycle` property in your page's [`onReady()`]($w.html#onReady)",
                " event handler to control during which cycles your code runs." ],
            "links": [],
            "examples":
              [ { "title": "Get the current cycle in the rendering process",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "",
                      "// ...",
                      "",
                      "let currentCycle = wixWindow.rendering.renderCycle; // 1" ] },
                { "title": "Use rendering cycle number to selectively run code per cycle",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "import wixData from 'wix-data';",
                      "",
                      "let queryPromise;",
                      "",
                      "if(wixWindow.rendering.renderCycle === 1) {",
                      "  queryPromise = wixData.query(\"myCollection\").find();",
                      "}",
                      "",
                      "$w.onReady(function () {",
                      "  if(wixWindow.rendering.renderCycle === 1) {",
                      "    $w(\"#myText\").text = \"Some initial text.\";",
                      "",
                      "    return queryPromise.then(results => {",
                      "      $w(\"#myTable\").rows = results.items;",
                      "    } );",
                      "  }",
                      "} );" ] } ] },
        "srcDocs":
          { "summary": "Gets the current cycle in the rendering process.",
            "description":
              [ "When possible, the rendering process is split in two in order to",
                " improve performance. The first cycle in the process happens server-side",
                " and the second cycle happens client-side. When not possible, all rendering",
                " happens client-side.",
                "",
                " When the rendering is split, `renderCycle` returns `1` on the server",
                " and `2` on the client.",
                "",
                " When all the rendering happens client-side, `renderCycle` returns `1`",
                " while the rendering process is still running.",
                "",
                " In either case, after the client-side rendering has finished,",
                " `renderCycle` returns `NaN`.",
                "",
                " Use the `renderCycle` property in your page's [`onReady()`]($w.html#onReady)",
                " event handler to control during which cycles your code runs." ],
            "links": [],
            "examples":
              [ { "title": "Get the current cycle in the rendering process",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "",
                      "// ...",
                      "",
                      "let currentCycle = wixWindow.rendering.renderCycle; // 1" ] },
                { "title": "Use rendering cycle number to selectively run code per cycle",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "import wixData from 'wix-data';",
                      "",
                      "let queryPromise;",
                      "",
                      "if(wixWindow.rendering.renderCycle === 1) {",
                      "  queryPromise = wixData.query(\"myCollection\").find();",
                      "}",
                      "",
                      "$w.onReady(function () {",
                      "  if(wixWindow.rendering.renderCycle === 1) {",
                      "    $w(\"#myText\").text = \"Some initial text.\";",
                      "",
                      "    return queryPromise.then(results => {",
                      "      $w(\"#myTable\").rows = results.items;",
                      "    } );",
                      "  }",
                      "} );" ] } ] } } ],
  "operations": [],
  "callbacks": [],
  "messages": [] }
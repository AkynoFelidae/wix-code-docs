{ "name": "wix-site-backend",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 1,
      "filename": "general-info.js" },
  "docs":
    { "summary": "The wix-site-backend module contains functionality for working with\n your site and its pages from backend code.\n\n To use the Site API, import `wixSite` from the `wix-site-backend` module:\n\n   ```javascript\n   import wixSite from 'wix-site-backend';\n   ```",
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "invalidateCache",
        "labels": [],
        "nameParams": [],
        "params": [],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the site cache is invalidated.\nRejected - Error message." },
        "locations":
          [ { "lineno": 1,
              "filename": "cacheInvalidate.js" } ],
        "docs":
          { "summary": "Invalidates the cache for a site.",
            "description":
              [ "The `invalidateCache()` function returns a Promise that resolves when the ",
                " site cache is invalidated (cleared). ",
                "",
                " Most Wix sites are cached by default to provide better performance. In cases where your site changes ",
                " without publishing, caching may adversely affect your site. For example, if your site fetches and displays data from",
                " a 3rd-party service, you might experience the following issues on a cached site: ",
                "",
                " +  Updated data is not displayed.",
                " +  Updated data flickers.",
                " +  Updated data is not exposed to bots, hurting SEO.",
                "",
                "",
                " You can prevent such issues by invalidating your site's cache following a data update." ],
            "links": [],
            "examples":
              [ { "title": "Invalidate a site's cache",
                  "body":
                    [ "import wixSite from 'wix-site-backend';",
                      "",
                      "export function invalidateCache() {",
                      "\treturn wixSite.invalidateCache();",
                      "}" ],
                  "extra":
                    {  } },
                { "title": "Get data from a 3rd party service and invalidate the site's cache",
                  "body":
                    [ "/***************************************",
                      " * backend code - myModule.jsw *",
                      " ***************************************/",
                      "",
                      "import wixSite from 'wix-site-backend';",
                      "import {getJSON} from 'wix-fetch';",
                      "",
                      "export function invalidateCache() {",
                      "  return wixSite.invalidateCache();",
                      "}",
                      "",
                      "export function getSomeJSON() {",
                      "  return getJSON(\"https://someapi.com/api/someendpoint\");",
                      "}",
                      "",
                      "/********************",
                      "* client-side code *",
                      "********************/",
                      "",
                      "import {invalidateCache, getSomeJSON} from 'backend/myModule';",
                      "",
                      "export function getData_click(event) {",
                      "  getSomeJSON()",
                      "    .then( (json) => {",
                      "      $w('#myTextElement').text = json.someData[0].description;",
                      "    })",
                      "\t.then( () => {",
                      "\t  invalidateCache();",
                      "\t})",
                      "\t.catch((error) => {",
                      "\t  console.log(error);",
                      "\t});",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "notes":
              [ "The invalidation process normally takes a few seconds to propagate." ] } } ],
  "callbacks": [],
  "messages": [],
  "extra":
    {  } }
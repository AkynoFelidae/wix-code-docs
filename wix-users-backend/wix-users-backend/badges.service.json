{ "name": "badges",
  "memberOf": "wix-users-backend",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 1,
      "filename": "badges.js" },
  "docs":
    { "summary": "The Badges API contains functionality for working with <a href=\"https://support.wix.com/en/article/about-member-badges\" target=\"_blank\">member badges</a> from backend code.",
      "description":
        [ "To use the Badges API, import `wixUsersBackend` from the `wix-users-backend` module:",
          "",
          "   ```javascript",
          "   import wixUsersBackend from 'wix-users-backend';",
          "   ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "assignMembers",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "badgeId",
              "type": "string",
              "doc": "The ID of the badge to assign members to." },
            { "name": "memberIds",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "The IDs of the members to assign to the badge." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ { "name": "Array",
                      "typeParams":
                        [ "string" ] } ] },
            "doc": "Fulfilled - The IDs of the members assigned to the badge.\nRejected - Error message." },
        "locations":
          [ { "lineno": 49,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "Assigns a badge to site members.",
            "description":
              [ "The `assignMembers()` function returns a Promise that resolves when the",
                " members with the given IDs are assigned as badge holders of the specified badge.",
                "",
                "The `badgeId` parameter must be an ID from your site's `Members/Badges` collection. ",
                "Typically, you retrieve the ID from from the collection using a query or through a dataset." ],
            "links": [],
            "examples":
              [ { "title": "Assign a badge to members",
                  "body":
                    [ "import wixUsersBackend from 'wix-users-backend';",
                      "",
                      "export function assignMembers(badgeId, memberIds) {",
                      "  return wixUsersBackend.badges.assignMembers(badgeId, memberIds);",
                      "}",
                      "",
                      "// Returns promise that resolves to:",
                      "// [\"3c1234ea-f6cc-678b-b0d1-2eb6b8cea912\", \"e12345e1-f9bd-4eae-6789-864c3602eb7e\"]" ],
                  "extra":
                    {  } },
                { "title": "Assign a badge to forum members with a top post",
                  "body":
                    [ "/*******************************",
                      " * backend code - badges.jsw *",
                      " *******************************/",
                      "",
                      "import wixUsersBackend from 'wix-users-backend';",
                      "",
                      "export function assignMembers(badgeId, memberIds) {",
                      "  return wixUsersBackend.badges.assignMembers(badgeId, memberIds);",
                      "}",
                      "",
                      "/********************",
                      " * client-side code *",
                      " ********************/",
                      "",
                      "import wixData from 'wix-data';",
                      "import {assignMembers} from 'backend/badges';",
                      "",
                      "// ..",
                      "",
                      "// \"Top Poster\" badge ID from the Members/Badges collection",
                      "const topPosterBadgeId = \"4de76dd9-fe35-1234-807c-3888a58ab4aa\";",
                      "",
                      "wixData.query(\"Forum/Posts\")",
                      "  .gt(\"likeCount\", 50)",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length) {",
                      "      const topPosts = results.items;",
                      "      const topPostOwners = topPosts.map(post => post._ownerId);",
                      "      assignMembers(topPosterBadgeId, topPostOwners);",
                      "    } else {",
                      "        console.log(\"No top posts\");",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.log(error);",
                      "  });",
                      "" ],
                  "extra":
                    { "description": "In this example, we query the Forum/Posts collection for all posts with a Like Count greater than 50. We store the member IDs of the post owners in an array, and assign those members a \"Top Poster\" badge." } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "createBadge",
        "labels":
          [ "new" ],
        "nameParams": [],
        "params":
          [ { "name": "badgeInfo",
              "type": "wix-users-backend.badges.BadgeInfo",
              "doc": "The information to use when creating the badge." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-users-backend.badges.Badge" ] },
            "doc": "Fulfilled - The newly created badge.\nRejected - Error message." },
        "locations":
          [ { "lineno": 124,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "Creates a badge.",
            "description":
              [ "The `createBadge()` function returns a Promise that resolves to the newly created badge when",
                " the badge is created.",
                "",
                " Badges created with the `createBadge()` function will not have any [badge permissions](https://support.wix.com/en/article/setting-permissions-for-a-member-badge). You can",
                " set badge permissions in your site's dashboard.",
                "",
                " If `backgroundColor` and `textColor` are not specified they will default to `#796EFF` (purple) and `#FFFFFF` (white) respectively." ],
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "deleteBadge",
        "labels":
          [ "new" ],
        "nameParams": [],
        "params":
          [ { "name": "badgeId",
              "type": "string",
              "doc": "ID of the badge to delete." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the badge is deleted.\nRejected - Error message." },
        "locations":
          [ { "lineno": 165,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "Deletes a badge.",
            "description":
              [ "The `deleteBadge()` function returns a Promise that resolves when",
                " the badge with the specified ID has been deleted.",
                "",
                "The `badgeId` parameter must be an ID from your site's `Members/Badges` collection. ",
                "Typically, you retrieve the ID from from the collection using a query or through a dataset." ],
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "listMemberBadges",
        "labels":
          [ "new" ],
        "nameParams": [],
        "params":
          [ { "name": "memberIds",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "IDs of the members to list badges for." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ { "name": "Array",
                      "typeParams":
                        [ "wix-users-backend.badges.BadgeList" ] } ] },
            "doc": "Fulfilled - An object IDs of the members assigned to the badge.\nRejected - Error message." },
        "locations":
          [ { "lineno": 92,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "Lists the badges assigned to each of the specified site members.",
            "description":
              [ "The `listMemberBadges()` function returns a Promise that resolves to a",
                " list of badge IDs associated with each of the specified members." ],
            "links": [],
            "examples":
              [ { "title": "Assign a badge to members",
                  "body":
                    [ "import wixUsersBackend from 'wix-users-backend';",
                      "",
                      "export function assignMembers(badgeId, memberIds) {",
                      "  return wixUsersBackend.badges.assignMembers(badgeId, memberIds);",
                      "}",
                      "",
                      "// Returns promise that resolves to:",
                      "// [\"3c1234ea-f6cc-678b-b0d1-2eb6b8cea912\", \"e12345e1-f9bd-4eae-6789-864c3602eb7e\"]" ],
                  "extra":
                    {  } },
                { "title": "Assign a badge to forum members with a top post",
                  "body":
                    [ "/*******************************",
                      " * backend code - badges.jsw *",
                      " *******************************/",
                      "",
                      "import wixUsersBackend from 'wix-users-backend';",
                      "",
                      "export function assignMembers(badgeId, memberIds) {",
                      "  return wixUsersBackend.badges.assignMembers(badgeId, memberIds);",
                      "}",
                      "",
                      "/********************",
                      " * client-side code *",
                      " ********************/",
                      "",
                      "import wixData from 'wix-data';",
                      "import {assignMembers} from 'backend/badges';",
                      "",
                      "// ..",
                      "",
                      "// \"Top Poster\" badge ID from the Members/Badges collection",
                      "const topPosterBadgeId = \"4de76dd9-fe35-1234-807c-3888a58ab4aa\";",
                      "",
                      "wixData.query(\"Forum/Posts\")",
                      "  .gt(\"likeCount\", 50)",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length) {",
                      "      const topPosts = results.items;",
                      "      const topPostOwners = topPosts.map(post => post._ownerId);",
                      "      assignMembers(topPosterBadgeId, topPostOwners);",
                      "    } else {",
                      "        console.log(\"No top posts\");",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.log(error);",
                      "  });",
                      "" ],
                  "extra":
                    { "description": "In this example, we query the Forum/Posts collection for all posts with a Like Count greater than 50. We store the member IDs of the post owners in an array, and assign those members a \"Top Poster\" badge." } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "listMembers",
        "labels":
          [ "new" ],
        "nameParams": [],
        "params":
          [ { "name": "badgeId",
              "type": "string",
              "doc": "The ID of the badge to assign members to." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ { "name": "Array",
                      "typeParams":
                        [ "string" ] } ] },
            "doc": "Fulfilled - The IDs of the members assigned to the badge.\nRejected - Error message." },
        "locations":
          [ { "lineno": 76,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "Lists the IDs of all members assigned to a badge.",
            "description":
              [ "The `listMembers()` function returns a Promise that resolves to the member IDs ",
                " of the members assigned as badge holders of the specified badge." ],
            "links": [],
            "examples":
              [ { "title": "Assign a badge to members",
                  "body":
                    [ "import wixUsersBackend from 'wix-users-backend';",
                      "",
                      "export function assignMembers(badgeId, memberIds) {",
                      "  return wixUsersBackend.badges.assignMembers(badgeId, memberIds);",
                      "}",
                      "",
                      "// Returns promise that resolves to:",
                      "// [\"3c1234ea-f6cc-678b-b0d1-2eb6b8cea912\", \"e12345e1-f9bd-4eae-6789-864c3602eb7e\"]" ],
                  "extra":
                    {  } },
                { "title": "Assign a badge to forum members with a top post",
                  "body":
                    [ "/*******************************",
                      " * backend code - badges.jsw *",
                      " *******************************/",
                      "",
                      "import wixUsersBackend from 'wix-users-backend';",
                      "",
                      "export function assignMembers(badgeId, memberIds) {",
                      "  return wixUsersBackend.badges.assignMembers(badgeId, memberIds);",
                      "}",
                      "",
                      "/********************",
                      " * client-side code *",
                      " ********************/",
                      "",
                      "import wixData from 'wix-data';",
                      "import {assignMembers} from 'backend/badges';",
                      "",
                      "// ..",
                      "",
                      "// \"Top Poster\" badge ID from the Members/Badges collection",
                      "const topPosterBadgeId = \"4de76dd9-fe35-1234-807c-3888a58ab4aa\";",
                      "",
                      "wixData.query(\"Forum/Posts\")",
                      "  .gt(\"likeCount\", 50)",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length) {",
                      "      const topPosts = results.items;",
                      "      const topPostOwners = topPosts.map(post => post._ownerId);",
                      "      assignMembers(topPosterBadgeId, topPostOwners);",
                      "    } else {",
                      "        console.log(\"No top posts\");",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.log(error);",
                      "  });",
                      "" ],
                  "extra":
                    { "description": "In this example, we query the Forum/Posts collection for all posts with a Like Count greater than 50. We store the member IDs of the post owners in an array, and assign those members a \"Top Poster\" badge." } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "removeMembers",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "badgeId",
              "type": "string",
              "doc": "The ID of the badge to remove members from." },
            { "name": "memberIds",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "IDs of the members to remove from the badge." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the members are removed.\nRejected - Error message." },
        "locations":
          [ { "lineno": 109,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "Removes site members from an assigned badge.",
            "description":
              [ "The `removeMembers()` function returns a Promise that resolves when the",
                " members with the given IDs are removed as badge holders of the specified badge." ],
            "links": [],
            "examples":
              [ { "title": "Remove members from an assigned badge",
                  "body":
                    [ "import wixUsersBackend from 'wix-users-backend';",
                      "",
                      "export function removeMembers(badgeId, memberIds) {",
                      "  return wixUsersBackend.badges.removeMembers(badgeId, memberIds);",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "updateBadge",
        "labels":
          [ "new" ],
        "nameParams": [],
        "params":
          [ { "name": "badgeId",
              "type": "string",
              "doc": "ID of the badge to update." },
            { "name": "badgeInfo",
              "type": "wix-users-backend.badges.BadgeInfo",
              "doc": "The information to use when updating the badge." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-users-backend.badges.Badge" ] },
            "doc": "Fulfilled - The updated badge.\nRejected - Error message." },
        "locations":
          [ { "lineno": 145,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "Updates a badge.",
            "description":
              [ "The `updateBadge()` function returns a Promise that resolves to the updated badge when",
                " the badge with the specified ID has been updated.",
                "",
                "Only the properties passed in the BadgeInfo object will be updated. All other properties will remain the same.",
                "",
                "The `badgeId` parameter must be an ID from your site's `Members/Badges` collection. ",
                "Typically, you retrieve the ID from from the collection using a query or through a dataset." ],
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "Badge",
        "locations":
          [ { "lineno": 28,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "An object representing a member badge.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "id",
              "type": "string",
              "doc": "Badge ID." },
            { "name": "title",
              "type": "string",
              "doc": "Badge title." },
            { "name": "description",
              "type": "string",
              "doc": "Badge description.",
              "optional": true },
            { "name": "backgroundColor",
              "type": "string",
              "doc": "Background color of the badge as a hexadecimal rgb color value. The default color is `#796EFF` (purple).",
              "optional": true },
            { "name": "textColor",
              "type": "string",
              "doc": "Text color of the badge as a hexadecimal rgb color value. The default color is `#FFFFFF` (white).",
              "optional": true },
            { "name": "icon",
              "type": "string",
              "doc": "Badge icon as an SVG image. One of the following:\n\n  + An external web URL in the following format: `http(s)://<image url>`.\n  + The [source URL](wix-media-backend.mediaManager.html#getFileUrl) for a Wix Media Manager file. Wix Media Manager file names (for example, `wix:image://...`), are not supported.",
              "optional": true },
            { "name": "roleId",
              "type": "string",
              "doc": "ID of the role that badge members are assigned to." },
            { "name": "slug",
              "type": "string",
              "doc": "Badge's unique URL as used in a dynamic page." },
            { "name": "createdDate",
              "type": "Date",
              "doc": "Date and time the badge was created." },
            { "name": "updatedDate",
              "type": "Date",
              "doc": "Date and time the badge was last updated." } ],
        "extra":
          {  },
        "labels":
          [ "new" ] },
      { "name": "BadgeInfo",
        "locations":
          [ { "lineno": 12,
              "filename": "badges.js" } ],
        "docs":
          { "summary": "Information to use when creating or updating a badge.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "title",
              "type": "string",
              "doc": "Badge title." },
            { "name": "description",
              "type": "string",
              "doc": "Badge description.",
              "optional": true },
            { "name": "backgroundColor",
              "type": "string",
              "doc": "Background color of the badge as a hexadecimal rgb color value. The default color is `#796EFF` (purple).",
              "optional": true },
            { "name": "textColor",
              "type": "string",
              "doc": "Text color of the badge as a hexadecimal rgb color value. The default color is `#FFFFFF` (white).",
              "optional": true },
            { "name": "icon",
              "type": "string",
              "doc": "Badge icon as an SVG image. One of the following:\n\n  + An external web URL in the following format: `http(s)://<image url>`.\n  + The [source URL](wix-media-backend.mediaManager.html#getFileUrl) for a Wix Media Manager file. Wix Media Manager file names (for example, `wix:image://...`), are not supported.",
              "optional": true } ],
        "extra":
          {  },
        "labels":
          [ "new" ] } ],
  "extra":
    {  } }